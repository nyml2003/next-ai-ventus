# 登录页设计

## 页面目标

提供简洁的登录入口，验证用户身份后进入管理后台。

## 用户场景

| 场景 | 用户行为 |
|------|---------|
| 未登录访问管理后台 | 被重定向到登录页，输入凭据登录 |
| 会话过期 | 重新登录，继续之前的操作 |
| 主动退出后 | 重新登录返回管理后台 |

## 模块清单

### 1. LoginForm（登录表单）

**功能：**
- 用户名输入框
- 密码输入框
- 登录按钮
- 错误提示区域

**布局：**
```
┌─────────────────────────────────────────┐
│                                         │
│           [ventus Logo]                 │
│                                         │
│         管理后台登录                     │
│                                         │
│    ┌─────────────────────────────┐     │
│    │  用户名                     │     │
│    └─────────────────────────────┘     │
│                                         │
│    ┌─────────────────────────────┐     │
│    │  密码                       │     │
│    └─────────────────────────────┘     │
│                                         │
│         [  登 录  ]                     │
│                                         │
│    ⚠️ 用户名或密码错误                  │
│                                         │
└─────────────────────────────────────────┘
```

**交互：**
- 输入框支持 Enter 键提交
- 登录中按钮显示 loading 状态
- 错误时显示具体错误信息（如"用户名或密码错误"）
- 登录成功后跳转到 `/admin`（或之前的访问页面）

### 2. 登录逻辑

**API：**
```http
POST /api/login

{
  "username": "admin",
  "password": "xxx"
}
```

**成功响应：**
```json
{
  "code": 0,
  "data": {
    "token": "jwt_token_string"
  }
}
```

**Token 存储：**
- 登录成功后，token 写入 Cookie（HttpOnly）
- 后续请求自动携带 Cookie 鉴权

### 3. 登录状态检查

**进入页面时：**
- 检查是否已登录（Cookie 中有有效 token）
- 已登录则自动跳转到 `/admin`

**从其他页面重定向来时：**
- 保存 `redirect` 参数（如 `/login?redirect=/admin/posts`）
- 登录成功后跳转到对应页面

## 页面布局

```
┌──────────────────────────────────────────────────────────┐
│                                                          │
│                                                          │
│                                                          │
│                   [ventus Logo]                          │
│                                                          │
│                  管理后台登录                             │
│                                                          │
│              ┌─────────────────────┐                    │
│              │   LoginForm         │                    │
│              │   - 用户名           │                    │
│              │   - 密码             │                    │
│              │   - 登录按钮         │                    │
│              └─────────────────────┘                    │
│                                                          │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

## 安全设计

- **密码传输**：前端不加密，HTTPS 传输
- **失败限制**：连续 5 次失败锁定 5 分钟（后端实现）
- **Token 过期**：JWT 设置 24 小时过期时间
- **Cookie 安全**：HttpOnly, Secure, SameSite=Strict

## 错误处理

| 错误场景 | 提示信息 |
|---------|---------|
| 用户名为空 | 请输入用户名 |
| 密码为空 | 请输入密码 |
| 用户名或密码错误 | 用户名或密码错误 |
| 账户被锁定 | 登录失败次数过多，请 5 分钟后重试 |
| 网络错误 | 网络异常，请检查网络后重试 |
